
<app-shared-nav  [buttons]="buttons"></app-shared-nav><div class="main-content  ">
  <div class="container-fluid ">



          <div class="col-md-12">
            <div class=" mb-5 ">
                <div class="card">
                     <div class="card-header ">
                        <h4 class="card-title ">Bank Report</h4>
                 
       
                          
                               </div>  
            
                           <div [ngClass]="{'blur-background':isLoading}">
                    <div [ngClass]="{'blur-background':isLoading}">
                <div class="row  " >
                     
            


                  <div class="col-md-3 ml-5 mt-3">
                    
                          <mat-select class="form-field select" placeholder="Select Bank" required name="selectedBank" [(ngModel)]="selectedBank" (ngModelChange)="onBankselected()" >
                            <!-- Replace the options below with your actual division options -->
                            <mat-option *ngFor="let bank of Banks" [value]="bank.id" >
                              {{bank.bankName}}
                            </mat-option>
                           
                          </mat-select>
                   
                      </div> 
      
    
        
<div class=" mt-3"><input  class="ml-5 search inputserach mt-3" type="search" placeholder="Search By Name" [(ngModel)]="searchTerm" (input)="onSearch()">
</div>
 
    
</div>  
<div class="col-md-8  " #printableCard>
    <div>
    <div class="ml-3 mt-3 head">{{getBankName(selectedBank)}}</div>
 
  </div>
     <div class="logo" *ngIf="see==true" >

    <a href="#" class="simple-text">
        <div>
            <img  class="logo-img"src="/assets/img/ECXLogo.png"/>
        </div>
   
          
    </a>
    <h5>    ETHIOPIAN COMMODITY EXCHANGE</h5>
    <P>Tel.+251 554 7010, Fax +251 554 7010, P.O.Box 17341 Alsam Chelelek Tower 2, Addis Ababa,Ethiopia www.ecx.com.et</P>

</div>
<div class="mt-3 ml-3 card head yellow">{{end}} Payroll for Regulars 
</div>
<table  class="table  table-responsive table-bordered table-striped   compact-table mt-3 ml-3">
  <thead>
    <tr>

      <th>Employee Name</th>
   
      <th>Bank</th>
      <th>Bank Branch</th>
      <th>Bank Account</th>
      <th>AmountTransfer</th>
  
 
    
  
    </tr>
  </thead>
  <tbody>
    <!-- Use *ngFor to loop through thepayendances and display eachpayendance's information -->

    
    <div class="loading-overlay" *ngIf="isLoading; else loadedData ">
       <p>Loading......</p>
    </div>


    <ng-template #loadedData>
    <tr *ngFor="let at of filteredPayRolls" >
      
      <td>{{ capitalizeFirstLetter(getEmployeeName(at.empId)) }}</td>
            
      <td>{{ getBankName(at.bank) }}</td>
      
      <td>{{ at.bankBranch }}</td>
      
      <td>{{ at.bankAccountNumber }}</td>

      <td>{{ at.amtTransfer }}</td>

    </tr>
    </ng-template>
  </tbody>
</table>
<div class="mt-3 ml-3 card head yellow">{{end}} Payroll for Contracts 
</div>
<table  class="table table table-responsive table-bordered table-striped  mt-3 ml-3 table-sm compact-table mt-3">
  <thead>
 
    <tr>

      <th>Employee Name</th>
      <th>Bank</th>
      <th>Bank Branch</th>
      <th>Bank Account</th>
    
        <th>Amount Transfer</th>
       
    
  
    </tr>
  </thead>
  <tbody>
    <!-- Use *ngFor to loop through thepayendances and display eachpayendance's information -->

 
    <div class="loading-overlay" *ngIf="isLoading; else loadData ">
       <p>Loading......</p>
    </div>


    <ng-template #loadData>
    <tr *ngFor="let filteredPayRollContract of filteredPayRollContracts" >
      
      <td>{{ capitalizeFirstLetter(getContractEmployeeName(filteredPayRollContract.empId)) }}</td>
      <td>{{ getBankName(filteredPayRollContract.bank) }}</td>
      
      <td>{{ filteredPayRollContract.bankBranch }}</td>
      
      <td>{{ filteredPayRollContract.bankAccountNumber }}</td>
      <td>{{ filteredPayRollContract.netPay }}</td>
    
    </tr>
    </ng-template>
  </tbody>
</table> 
 </div> 
 <button (click)="printCard()" class="btn btnedit ml-5">Print</button>
 </div>
</div></div>
</div>
 



